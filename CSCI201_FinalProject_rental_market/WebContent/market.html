<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Marketplace</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="styles/market.css" type="text/css">
  <link rel="stylesheet" type="text/css" href="styles/shell.css">
  <script>
  	function populate() {
    		addImage();
    		addUserName();
    		addPostList();
    }
    function addImage() {
    		var xhttp = new XMLHttpRequest();
		xhttp.open("post", "addImage.jsp", false);
		xhttp.send();
		if(xhttp.responseText.trim().length > 0){
			document.getElementById("profileimage").innerHTML = xhttp.responseText;
		}
    }
    function addUserName() {
		var xhttp = new XMLHttpRequest();
		xhttp.open("post", "addUsername.jsp", false);
		xhttp.send();
		if(xhttp.responseText.trim().length > 0){
			document.getElementById("username").innerHTML = xhttp.responseText;
		}
	}
    function addPostList() {
		var xhttp = new XMLHttpRequest();
		xhttp.open("post", "marketPostList.jsp", false);
		xhttp.send();
		if(xhttp.responseText.trim().length > 0){
			document.getElementById("postList").innerHTML = xhttp.responseText;
		}
	}
    function showDetail(div) {
    		var xhttp = new XMLHttpRequest();
		xhttp.open("post", "marketPostDetail.jsp?divID=" + div.id, false);
		xhttp.send();
		if(xhttp.responseText.trim().length > 0){
			document.getElementById("col7").innerHTML = xhttp.responseText;
		}
    }
   </script>
</head>

<body onload = "populate()">
<div class="row">
  <div class="col-sm-2" id="col2">
    <div id = "profileimage" class="profileimage">
    </div>
    <!-- <div class="btn-group-vertical" id="buttons">
      <button type="button" class="btn btn-default">Profile</button>
      <button type="button" class="btn btn-default">Market</button>
      <button type="button" class="btn btn-default">Requests</button>
    </div> -->
    <div id = "username">
    </div>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#" class="shellLink">Profile</a></li>
      <li class="active"><a href="#" class="shellLink">Market</a></li>
      <li><a href="#" class="shellLink">Requests</a></li>
    </ul><br>
    <button type="button" class="btn btn-default btn-block">New Request</button>
  </div>

  <!-- Dynamically create these cells -->
  <div class="col-sm-3" id="col3">
    <div class="well well-sm">Marketplace</div>
    <div id = "postList">
    </div>
  </div>
  <div class="col-sm-7" id="col7">
    
  </div>
</body>

</html>
